import{b as e,p as a,S as t,s as l}from"./index-SeYMZHv7.js";import{b as n}from"./ant-design-vue-qdrtx42b.js";import{r as i,a as o,b2 as r,ag as u,o as d,bz as s,c,u as m}from"./@vue-wTDZSr7R.js";
/* 
  * OA发票信息
  * 
  * @Author:    善逸 
  * @Date:      2022-09-03 21:48:54 
  * @Wechat:    zhuda1024 
  * @Email:     lab1024@163.com 
  * @Copyright  1024创新实验室 （ https://1024lab.net ），Since 2012 
  */const p={create:e=>a("/oa/invoice/create",e),delete:a=>e(`/oa/invoice/delete/${a}`),detail:a=>e(`//oa/invoice/get/${a}`),pageQuery:e=>a("/oa/invoice/page/query",e),update:e=>a("/oa/invoice/update",e),queryList:a=>e(`/oa/invoice/query/list/${a}`)},v={__name:"enterprise-invoice-operate-modal",props:{enterpriseId:{type:Number,default:null}},emits:["reloadList"],setup(e,{expose:a,emit:v}){const b=e,f=v,g=i(!1),h=i(!0);function y(e){I.disabledFlag=!e}function N(){_.value.resetFields(),Object.assign(I,k),g.value=!1}const _=i(),k={invoiceId:void 0,enterpriseId:void 0,bankName:"",accountNumber:"",invoiceHeads:"",taxpayerIdentificationNumber:"",disabledFlag:!1,remark:""};let I=o({...k});const x={invoiceHeads:[{required:!0,message:"请输入开票抬头"}],taxpayerIdentificationNumber:[{required:!0,message:"请输入纳税人识别号"}],accountNumber:[{required:!0,message:"请输入银行账号"}],bankName:[{required:!0,message:"请输入开户行"}]};function j(){_.value.validate().then((async()=>{t.show();try{I.invoiceId?await p.update(I):await p.create(I),n.success((I.invoiceId?"修改":"添加")+"成功"),f("reloadList"),N()}catch(e){l.captureError(e)}finally{t.hide()}})).catch((e=>{n.error("参数验证错误，请仔细填写表单数据!")}))}return a({showModal:function(e){Object.assign(I,k),e&&(Object.assign(I,e),h.value=!e.disabledFlag),I.enterpriseId=b.enterpriseId,g.value=!0}}),(e,a)=>{const t=r("a-input"),l=r("a-form-item"),n=r("a-switch"),i=r("a-textarea"),o=r("a-form"),p=r("a-modal");return d(),u(p,{open:g.value,title:m(I).invoiceId?"编辑":"添加",width:700,"ok-text":"确认","cancel-text":"取消",onOk:j,onCancel:N},{default:s((()=>[c(o,{ref_key:"formRef",ref:_,model:m(I),rules:x,"label-col":{span:4},"wrapper-col":{span:19}},{default:s((()=>[c(l,{label:"开票抬头",name:"invoiceHeads"},{default:s((()=>[c(t,{value:m(I).invoiceHeads,"onUpdate:value":a[0]||(a[0]=e=>m(I).invoiceHeads=e),placeholder:"请输入开票抬头"},null,8,["value"])])),_:1}),c(l,{label:"纳税人识别号",name:"taxpayerIdentificationNumber"},{default:s((()=>[c(t,{value:m(I).taxpayerIdentificationNumber,"onUpdate:value":a[1]||(a[1]=e=>m(I).taxpayerIdentificationNumber=e),placeholder:"请输入纳税人识别号"},null,8,["value"])])),_:1}),c(l,{label:"银行账号",name:"accountNumber"},{default:s((()=>[c(t,{value:m(I).accountNumber,"onUpdate:value":a[2]||(a[2]=e=>m(I).accountNumber=e),placeholder:"请输入银行账号"},null,8,["value"])])),_:1}),c(l,{label:"开户行",name:"bankName"},{default:s((()=>[c(t,{value:m(I).bankName,"onUpdate:value":a[3]||(a[3]=e=>m(I).bankName=e),placeholder:"请输入开户行"},null,8,["value"])])),_:1}),c(l,{label:"启用状态",name:"disabledFlag"},{default:s((()=>[c(n,{checked:h.value,"onUpdate:checked":a[4]||(a[4]=e=>h.value=e),onChange:y},null,8,["checked"])])),_:1}),c(l,{label:"备注",name:"remark"},{default:s((()=>[c(i,{value:m(I).remark,"onUpdate:value":a[5]||(a[5]=e=>m(I).remark=e),rows:2},null,8,["value"])])),_:1})])),_:1},8,["model"])])),_:1},8,["open","title"])}}},b=Object.freeze(Object.defineProperty({__proto__:null,default:v},Symbol.toStringTag,{value:"Module"}));export{v as _,b as e,p as i};
