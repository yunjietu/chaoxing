import{b as e,p as a,S as l,s as t}from"./index-SeYMZHv7.js";import{b as n}from"./ant-design-vue-qdrtx42b.js";import{r as u,a as r,b2 as s,ag as o,o as c,bz as d,c as i,u as b}from"./@vue-wTDZSr7R.js";
/*
 * 银行卡
 *
 * @Author:    善逸
 * @Date:      2022-09-03 21:42:08
 * @Wechat:    zhuda1024
 * @Email:     lab1024@163.com
 * @Copyright  1024创新实验室 （ https://1024lab.net ），Since 2012
 */const m={create:e=>a("/oa/bank/create",e),delete:a=>e(`/oa/bank/delete/${a}`),detail:a=>e(`/oa/bank/get/${a}`),pageQuery:e=>a("/oa/bank/page/query",e),update:e=>a("/oa/bank/update",e),queryList:a=>e(`/oa/bank/query/list/${a}`)},p={__name:"enterprise-bank-operate-modal",props:{enterpriseId:{type:Number,default:null}},emits:["reloadList"],setup(e,{expose:a,emit:p}){const k=e,v=p,f=u(!1);function g(){Object.assign(_,N),h.value.resetFields(),f.value=!1}const h=u(),N={bankId:void 0,enterpriseId:void 0,bankName:"",accountName:"",accountNumber:"",businessFlag:!1,disabledFlag:!1,remark:""};let _=r({...N});const y={bankName:[{required:!0,message:"请输入开户银行"}],accountName:[{required:!0,message:"请输入账户名称"}],accountNumber:[{required:!0,message:"请输入账号"}]},F=u(!1),j=u(!0);function w(e){_.businessFlag=e}function I(e){_.disabledFlag=!e}function q(){h.value.validate().then((async()=>{l.show();try{_.bankId?await m.update(_):await m.create(_),n.success((_.bankId?"修改":"添加")+"成功"),v("reloadList"),g()}catch(e){t.captureError(e)}finally{l.hide()}})).catch((e=>{n.error("参数验证错误，请仔细填写表单数据!")}))}return a({showModal:function(e){Object.assign(_,N),e&&(Object.assign(_,e),F.value=e.businessFlag,j.value=!e.disabledFlag),_.enterpriseId=k.enterpriseId,f.value=!0}}),(e,a)=>{const l=s("a-input"),t=s("a-form-item"),n=s("a-switch"),u=s("a-textarea"),r=s("a-form"),m=s("a-modal");return c(),o(m,{open:f.value,title:b(_).bankId?"编辑":"添加",width:700,"ok-text":"确认","cancel-text":"取消",onOk:q,onCancel:g},{default:d((()=>[i(r,{ref_key:"formRef",ref:h,model:b(_),rules:y,"label-col":{span:4},"wrapper-col":{span:19}},{default:d((()=>[i(t,{label:"开户银行",name:"bankName"},{default:d((()=>[i(l,{value:b(_).bankName,"onUpdate:value":a[0]||(a[0]=e=>b(_).bankName=e),placeholder:"请输入开户银行"},null,8,["value"])])),_:1}),i(t,{label:"账户名称",name:"accountName"},{default:d((()=>[i(l,{value:b(_).accountName,"onUpdate:value":a[1]||(a[1]=e=>b(_).accountName=e),placeholder:"请输入账户名称"},null,8,["value"])])),_:1}),i(t,{label:"账号",name:"accountNumber"},{default:d((()=>[i(l,{value:b(_).accountNumber,"onUpdate:value":a[2]||(a[2]=e=>b(_).accountNumber=e),placeholder:"请输入账号"},null,8,["value"])])),_:1}),i(t,{label:"是否对公",name:"businessFlag"},{default:d((()=>[i(n,{checked:F.value,"onUpdate:checked":a[3]||(a[3]=e=>F.value=e),onChange:w},null,8,["checked"])])),_:1}),i(t,{label:"启用状态",name:"disabledFlag"},{default:d((()=>[i(n,{checked:j.value,"onUpdate:checked":a[4]||(a[4]=e=>j.value=e),onChange:I},null,8,["checked"])])),_:1}),i(t,{label:"备注",name:"remark"},{default:d((()=>[i(u,{value:b(_).remark,"onUpdate:value":a[5]||(a[5]=e=>b(_).remark=e),rows:2},null,8,["value"])])),_:1})])),_:1},8,["model"])])),_:1},8,["open","title"])}}},k=Object.freeze(Object.defineProperty({__proto__:null,default:p},Symbol.toStringTag,{value:"Module"}));export{p as _,m as b,k as e};
