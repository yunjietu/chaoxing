import{a as e}from"./vue-router-BJIyZwNj.js";import t from"./notice-form-drawer-Dn1_b_2h.js";import a from"./notice-view-record-list-Yn38wPKY.js";import{n as i}from"./notice-api-CJupa0Sd.js";import{_ as l,S as s,s as o}from"./index-SeYMZHv7.js";import{F as r}from"./index-BX3Fdk_n.js";import{r as n,e as m,b2 as u,b as d,o as p,c,bz as f,ag as v,ah as j,J as b,be as y,ai as _,F as h,b0 as w,u as g}from"./@vue-wTDZSr7R.js";import"./lodash-DG05lPuJ.js";import"./@ant-design-BpN5YQ3K.js";import"./vue-LkNShnlx.js";import"./@ctrl-BZ4iwDfm.js";import"./dayjs-Dk7pxPyP.js";import"./index-CtS3x09i.js";import"./@wangeditor-next-BWE1cd2r.js";import"./notice-form-visible-modal-DnXkdJ15.js";import"./notice-form-visible-transfer-department-CkBBxJvP.js";import"./department-api-IZzKtGZG.js";import"./notice-form-visible-transfer-employee-OCOPrTju.js";import"./ant-design-vue-qdrtx42b.js";import"./@babel-rSvM8Ko2.js";import"./resize-observer-polyfill-OVnto9HH.js";import"./@emotion-BUNCmyKw.js";import"./stylis-cmx5w8r8.js";import"./vue-types-Ci_fOQyt.js";import"./dom-align-CCb293uS.js";import"./lodash-es-DiERF9Dp.js";import"./async-validator-BTKOuuO-.js";import"./throttle-debounce-w9OM8Bxz.js";import"./index-D6sqxCCk.js";import"./ua-parser-js-D9VovvTw.js";import"./vue3-json-viewer-BcgvkQJY.js";import"./vue-i18n-DZLdcVEL.js";import"./@intlify-D9VlDxbJ.js";import"./pinia-BY_IhmGU.js";import"./axios-BlN9Xwzv.js";import"./crypto-js-DUpU9tZe.js";import"./sm-crypto-CNoQwlJF.js";import"./jsbn-aJNYh3Pg.js";import"./nprogress-Buvl-64T.js";import"./mitt-CNZ6avp8.js";const k={class:"file-list"},x=["onClick"],I={class:"visible-list"},z=["innerHTML"],N={__name:"notice-detail",props:{newsType:{type:Number}},setup(l){const N=e(),C=n(1),F=n({}),T=n();async function L(){try{s.show();const e=await i.getUpdateNoticeInfo(N.query.noticeId);F.value=e.data}catch(e){o.captureError(e)}finally{s.hide()}}m((()=>{N.query.noticeId&&(L(),T.value.onSearch())}));const R=n();function V(){R.value.showModal(F.value.noticeId)}const q=n();return(e,i)=>{const l=u("a-button"),s=u("a-descriptions-item"),o=u("a-descriptions"),n=u("a-card"),m=u("a-tab-pane"),E=u("a-tabs");return p(),d(h,null,[c(n,{style:{"margin-bottom":"15px"},size:"small"},{default:f((()=>[c(o,{title:F.value.title,column:4,size:"small"},{extra:f((()=>[c(l,{type:"primary",size:"small",onClick:V},{default:f((()=>[b("编辑")])),_:1})])),default:f((()=>[c(s,{label:"分类"},{default:f((()=>[b(y(F.value.noticeTypeName),1)])),_:1}),c(s,{label:"文号"},{default:f((()=>[b(y(F.value.documentNumber?F.value.documentNumber:"无"),1)])),_:1}),c(s,{label:"来源"},{default:f((()=>[b(y(F.value.source),1)])),_:1}),c(s,{label:"作者"},{default:f((()=>[b(y(F.value.author),1)])),_:1}),c(s,{label:"页面浏览量"},{default:f((()=>[b(y(F.value.pageViewCount),1)])),_:1}),c(s,{label:"用户浏览量"},{default:f((()=>[b(y(F.value.userViewCount),1)])),_:1}),c(s,{label:"创建时间"},{default:f((()=>[b(y(F.value.createTime),1)])),_:1}),c(s,{label:"发布时间"},{default:f((()=>[b(y(F.value.publishTime),1)])),_:1}),c(s,{label:"发布状态"},{default:f((()=>[b(y(F.value.publishFlag?"已发布":"待发布"),1)])),_:1}),c(s,{label:"删除状态"},{default:f((()=>[b(y(F.value.deletedFlag?"已删除":"未删除"),1)])),_:1}),e.$lodash.isEmpty(F.value.attachment)?j("",!0):(p(),v(s,{key:0,label:"附件"},{default:f((()=>[_("div",k,[(p(!0),d(h,null,w(F.value.attachment,(e=>(p(),d("a",{class:"file-item",key:e.fileId,onClick:t=>{return a=e,void q.value.showPreview(a);var a}},y(e.fileName),9,x)))),128))])])),_:1})),c(s,{label:"可见范围"},{default:f((()=>[F.value.allVisibleFlag?(p(),d(h,{key:0},[b("全部可见")],64)):j("",!0),_("div",I,[(p(!0),d(h,null,w(F.value.visibleRangeList,(e=>(p(),d("div",{class:"visible-item",key:e.dataId},y(e.dataName),1)))),128))])])),_:1})])),_:1},8,["title"])])),_:1}),c(n,{size:"small"},{default:f((()=>[c(E,{activeKey:C.value,"onUpdate:activeKey":i[0]||(i[0]=e=>C.value=e),size:"small"},{default:f((()=>[(p(),v(m,{key:1,tab:"内容"},{default:f((()=>[_("div",{class:"content-html",innerHTML:F.value.contentHtml},null,8,z)])),_:1})),(p(),v(m,{key:2,tab:"查看记录","force-render":""},{default:f((()=>[c(a,{ref_key:"noticeViewRecordList",ref:T,noticeId:g(N).query.noticeId},null,8,["noticeId"])])),_:1})),(p(),v(m,{key:3,tab:"操作记录"}))])),_:1},8,["activeKey"])])),_:1}),c(t,{ref_key:"noticeFormDrawerRef",ref:R,onReloadList:L},null,512),c(r,{ref_key:"filePreviewRef",ref:q},null,512)],64)}}},C=l(N,[["__scopeId","data-v-f663a8d6"]]);export{C as default};
