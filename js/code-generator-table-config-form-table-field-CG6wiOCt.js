import{b as e}from"./str-util-BDLBIRqu.js";import{i as l,r as a,b2 as t,b as d,o as n,c as i,bz as o,ah as s,ag as u,F as c,J as m,be as h}from"./@vue-wTDZSr7R.js";const r={__name:"code-generator-table-config-form-table-field",setup(r,{expose:p}){l("tableInfo");const w=a([{title:"序号",dataIndex:"no",width:60},{title:"列名",dataIndex:"columnName",width:120,ellipsis:!0},{title:"列描述",dataIndex:"columnComment",width:120,ellipsis:!0},{title:"显示",dataIndex:"showFlag",width:50},{title:"字段名词",dataIndex:"label",width:120},{title:"字段命名",dataIndex:"fieldName",width:120},{title:"宽度",dataIndex:"width",width:80},{title:"ellipsis",dataIndex:"ellipsisFlag",width:100}]),g=a([]);function b(e,l){if(!e)return null;let a=e.filter((e=>e.columnName===l));return a&&a.length>0?a[0]:null}return p({setData:function(l,a){let t=[];for(let d of l){let l=b(a.tableFields,d.columnName),n={columnName:d.columnName,columnComment:d.columnComment,dataType:d.dataType,showFlag:!l||l.showFlag,label:l?l.label:d.columnComment,fieldName:l?l.fieldName:e(d.columnName),width:l?l.width:null,ellipsisFlag:!l||l.ellipsisFlag};t.push(n)}g.value=t},getTaleFieldsForm:function(){return g.value.map((e=>({columnName:e.columnName,label:e.label,fieldName:e.fieldName,showFlag:e.showFlag,width:e.width,ellipsisFlag:e.ellipsisFlag})))}}),(e,l)=>{const a=t("smile-outlined"),r=t("a-alert"),p=t("a-checkbox"),b=t("a-input"),f=t("a-input-number"),F=t("a-switch"),x=t("a-table");return n(),d(c,null,[i(r,{closable:!0,message:"请务必将每一个字段的 “ 字段名词 ” 填写完整！！！",type:"success","show-icon":""},{icon:o((()=>[i(a)])),_:1}),i(x,{size:"small",bordered:"",scroll:{x:1e3},class:"smart-margin-top10",dataSource:g.value,columns:w.value,rowKey:"columnName",pagination:!1},{bodyCell:o((({record:e,index:l,column:a})=>["no"===a.dataIndex?(n(),d(c,{key:0},[m(h(l+1),1)],64)):s("",!0),"showFlag"===a.dataIndex?(n(),u(p,{key:1,checked:e.showFlag,"onUpdate:checked":l=>e.showFlag=l},null,8,["checked","onUpdate:checked"])):s("",!0),"fieldName"===a.dataIndex?(n(),u(b,{key:2,value:e.fieldName,"onUpdate:value":l=>e.fieldName=l},null,8,["value","onUpdate:value"])):s("",!0),"label"===a.dataIndex?(n(),u(b,{key:3,value:e.label,"onUpdate:value":l=>e.label=l},null,8,["value","onUpdate:value"])):s("",!0),"width"===a.dataIndex?(n(),u(f,{key:4,value:e.width,"onUpdate:value":l=>e.width=l},null,8,["value","onUpdate:value"])):s("",!0),"ellipsisFlag"===a.dataIndex?(n(),u(F,{key:5,checked:e.ellipsisFlag,"onUpdate:checked":l=>e.ellipsisFlag=l,"checked-children":"自动省略","un-checked-children":"换行显示"},null,8,["checked","onUpdate:checked"])):s("",!0)])),_:1},8,["dataSource","columns"])],64)}}};export{r as default};
