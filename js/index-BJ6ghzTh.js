import{_ as e}from"./lodash-DG05lPuJ.js";import t from"./index-D_ltEPWZ.js";import{_ as s,S as o,e as r,s as i}from"./index-SeYMZHv7.js";import{b as a}from"./ant-design-vue-qdrtx42b.js";import{r as p,b2 as m,ag as n,o as l,bz as u,c as d,ai as j,J as c}from"./@vue-wTDZSr7R.js";import"./@ant-design-BpN5YQ3K.js";import"./vue-LkNShnlx.js";import"./@ctrl-BZ4iwDfm.js";import"./department-api-IZzKtGZG.js";import"./department-mitt-B-AWyKXu.js";import"./mitt-CNZ6avp8.js";import"./@babel-rSvM8Ko2.js";import"./resize-observer-polyfill-OVnto9HH.js";import"./@emotion-BUNCmyKw.js";import"./stylis-cmx5w8r8.js";import"./vue-types-Ci_fOQyt.js";import"./dom-align-CCb293uS.js";import"./lodash-es-DiERF9Dp.js";import"./dayjs-Dk7pxPyP.js";import"./async-validator-BTKOuuO-.js";import"./throttle-debounce-w9OM8Bxz.js";import"./vue3-json-viewer-BcgvkQJY.js";import"./vue-i18n-DZLdcVEL.js";import"./@intlify-D9VlDxbJ.js";import"./pinia-BY_IhmGU.js";import"./axios-BlN9Xwzv.js";import"./crypto-js-DUpU9tZe.js";import"./sm-crypto-CNoQwlJF.js";import"./jsbn-aJNYh3Pg.js";import"./nprogress-Buvl-64T.js";import"./vue-router-BJIyZwNj.js";const f={class:"footer"},y=s({__name:"index",emits:["refresh"],setup(s,{expose:y,emit:v}){const h=v,b=p(),g=p(!1),_=p([]);function w(){g.value=!1}async function x(){o.show();try{if(e.isEmpty(_.value))return void a.warning("请选择要调整的员工");if(e.isEmpty(b.value.selectedKeys))return void a.warning("请选择要调整的部门");let t=b.value.selectedKeys[0],s={employeeIdList:_.value,departmentId:t};await r.batchUpdateDepartmentEmployee(s),a.success("操作成功"),h("refresh"),w()}catch(t){i.captureError(t)}finally{o.hide()}}return y({showModal:async function(e){_.value=e,g.value=!0}}),(e,s)=>{const o=m("a-button"),r=m("a-modal");return l(),n(r,{open:g.value,"onUpdate:open":s[0]||(s[0]=e=>g.value=e),title:"调整部门",footer:null,destroyOnClose:""},{default:u((()=>[d(t,{ref_key:"departmentTree",ref:b,height:400,showMenu:!1},null,512),j("div",f,[d(o,{style:{"margin-right":"8px"},onClick:w},{default:u((()=>[c("取消")])),_:1}),d(o,{type:"primary",onClick:x},{default:u((()=>[c("提交")])),_:1})])])),_:1},8,["open"])}}},[["__scopeId","data-v-ad0955f2"]]);export{y as default};
