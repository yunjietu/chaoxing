import{r as e}from"./role-api-BdA7V71d.js";import{_ as o,S as a,s as t}from"./index-SeYMZHv7.js";import{b as r}from"./ant-design-vue-qdrtx42b.js";import{r as s,a as l,b2 as i,ag as m,o as d,bz as n,c as p,ai as u,u as j,J as c}from"./@vue-wTDZSr7R.js";import"./@ant-design-BpN5YQ3K.js";import"./vue-LkNShnlx.js";import"./@ctrl-BZ4iwDfm.js";import"./lodash-DG05lPuJ.js";import"./vue3-json-viewer-BcgvkQJY.js";import"./dayjs-Dk7pxPyP.js";import"./vue-i18n-DZLdcVEL.js";import"./@intlify-D9VlDxbJ.js";import"./pinia-BY_IhmGU.js";import"./axios-BlN9Xwzv.js";import"./crypto-js-DUpU9tZe.js";import"./sm-crypto-CNoQwlJF.js";import"./jsbn-aJNYh3Pg.js";import"./nprogress-Buvl-64T.js";import"./vue-router-BJIyZwNj.js";import"./mitt-CNZ6avp8.js";import"./@babel-rSvM8Ko2.js";import"./resize-observer-polyfill-OVnto9HH.js";import"./@emotion-BUNCmyKw.js";import"./stylis-cmx5w8r8.js";import"./vue-types-Ci_fOQyt.js";import"./dom-align-CCb293uS.js";import"./lodash-es-DiERF9Dp.js";import"./async-validator-BTKOuuO-.js";import"./throttle-debounce-w9OM8Bxz.js";const f={class:"footer"},v=o({__name:"index",emits:["refresh"],setup(o,{expose:v,emit:h}){let y=h;v({showModal:function(e){Object.assign(C,w),e&&Object.assign(C,e);b.value=!0}});const b=s(!1);function g(){Object.assign(C,w),b.value=!1}const _=s(),w={roleId:void 0,remark:void 0,roleCode:void 0,roleName:void 0};let C=l({...w});const x={roleName:[{required:!0,message:"请输入角色名称"}],roleCode:[{required:!0,message:"请输入角色编码"}]};async function k(){_.value.validate().then((async()=>{a.show();try{C.roleId?await e.updateRole(C):await e.addRole(C),r.info((C.roleId?"编辑":"添加")+"成功"),y("refresh"),g()}catch(o){t.captureError(o)}finally{a.hide()}})).catch((e=>{r.error("参数验证错误，请仔细填写表单数据!")}))}return(e,o)=>{const a=i("a-input"),t=i("a-form-item"),r=i("a-form"),s=i("a-button"),l=i("a-modal");return d(),m(l,{title:j(C).roleId?"编辑角色":"添加角色",width:600,open:b.value,onCancel:g,footer:null},{default:n((()=>[p(r,{ref_key:"formRef",ref:_,model:j(C),rules:x,labelCol:{span:4}},{default:n((()=>[p(t,{label:"角色名称",name:"roleName"},{default:n((()=>[p(a,{style:{width:"100%"},placeholder:"请输入角色名称",value:j(C).roleName,"onUpdate:value":o[0]||(o[0]=e=>j(C).roleName=e)},null,8,["value"])])),_:1}),p(t,{label:"角色编码",name:"roleCode"},{default:n((()=>[p(a,{style:{width:"100%"},placeholder:"请输入角色编码",value:j(C).roleCode,"onUpdate:value":o[1]||(o[1]=e=>j(C).roleCode=e)},null,8,["value"])])),_:1}),p(t,{label:"角色备注"},{default:n((()=>[p(a,{style:{width:"100%"},placeholder:"请输入角色备注",value:j(C).remark,"onUpdate:value":o[2]||(o[2]=e=>j(C).remark=e)},null,8,["value"])])),_:1})])),_:1},8,["model"]),u("div",f,[p(s,{style:{"margin-right":"8px"},onClick:g},{default:n((()=>[c("取消")])),_:1}),p(s,{type:"primary",onClick:k},{default:n((()=>[c("提交")])),_:1})])])),_:1},8,["title","open"])}}},[["__scopeId","data-v-a9273dfa"]]);export{v as default};
