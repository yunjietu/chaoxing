import{r as e}from"./reload-api-CHaGlhbP.js";import{S as a,s as t}from"./index-SeYMZHv7.js";import{b as o}from"./ant-design-vue-qdrtx42b.js";import{r as s,a as i,b2 as r,ag as l,o as n,bz as m,c as p,u}from"./@vue-wTDZSr7R.js";import"./@ant-design-BpN5YQ3K.js";import"./vue-LkNShnlx.js";import"./@ctrl-BZ4iwDfm.js";import"./lodash-DG05lPuJ.js";import"./vue3-json-viewer-BcgvkQJY.js";import"./dayjs-Dk7pxPyP.js";import"./vue-i18n-DZLdcVEL.js";import"./@intlify-D9VlDxbJ.js";import"./pinia-BY_IhmGU.js";import"./axios-BlN9Xwzv.js";import"./crypto-js-DUpU9tZe.js";import"./sm-crypto-CNoQwlJF.js";import"./jsbn-aJNYh3Pg.js";import"./nprogress-Buvl-64T.js";import"./vue-router-BJIyZwNj.js";import"./mitt-CNZ6avp8.js";import"./@babel-rSvM8Ko2.js";import"./resize-observer-polyfill-OVnto9HH.js";import"./@emotion-BUNCmyKw.js";import"./stylis-cmx5w8r8.js";import"./vue-types-Ci_fOQyt.js";import"./dom-align-CCb293uS.js";import"./lodash-es-DiERF9Dp.js";import"./async-validator-BTKOuuO-.js";import"./throttle-debounce-w9OM8Bxz.js";const d={__name:"do-reload-form-modal",emits:["refresh"],setup(d,{expose:c,emit:j}){const f=j;c({showModal:function(e){y.tag=e,y.identification="",y.args="",v.value=!0}});const v=s(!1);function g(){Object.assign(y,h),v.value=!1}const b=s(),h={tag:"",identification:"",args:""};let y=i({...h});const _={identification:[{required:!0,message:"请输入运行标识"}],args:[{required:!0,message:"请输入参数值"}]};function x(){b.value.validate().then((async()=>{a.show();try{await e.reload(y),o.success("reload成功"),f("refresh"),g()}catch(s){t.captureError(s)}finally{a.hide()}})).catch((e=>{o.error("参数验证错误，请仔细填写表单数据!")}))}return(e,a)=>{const t=r("a-input"),o=r("a-form-item"),s=r("a-form"),i=r("a-modal");return n(),l(i,{open:v.value,title:"执行Reload","ok-text":"确认","cancel-text":"取消",onOk:x,onCancel:g},{default:m((()=>[p(s,{ref_key:"formRef",ref:b,model:u(y),rules:_,"label-col":{span:5}},{default:m((()=>[p(o,{label:"标签"},{default:m((()=>[p(t,{value:u(y).tag,"onUpdate:value":a[0]||(a[0]=e=>u(y).tag=e),disabled:!0},null,8,["value"])])),_:1}),p(o,{label:"运行标识",name:"identification"},{default:m((()=>[p(t,{value:u(y).identification,"onUpdate:value":a[1]||(a[1]=e=>u(y).identification=e),placeholder:"请输入运行标识"},null,8,["value"])])),_:1}),p(o,{label:"参数",name:"args"},{default:m((()=>[p(t,{value:u(y).args,"onUpdate:value":a[2]||(a[2]=e=>u(y).args=e),placeholder:"请输入参数"},null,8,["value"])])),_:1})])),_:1},8,["model"])])),_:1},8,["open"])}}};export{d as default};
