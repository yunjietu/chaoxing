import{r as e,e as t,b2 as s,b as a,o,c as i,bz as r,ah as n,ag as l,ai as p,be as c,y as u,E as d,J as m,u as v,F as j}from"./@vue-wTDZSr7R.js";import{a as h}from"./vue-router-BJIyZwNj.js";import f from"./help-doc-view-record-list-CAP_6qeY.js";import{_ as y,S as b,v as w,s as g}from"./index-SeYMZHv7.js";import{_ as x}from"./index-CBCNaAiZ.js";import"./ua-parser-js-D9VovvTw.js";import"./@ant-design-BpN5YQ3K.js";import"./vue-LkNShnlx.js";import"./@ctrl-BZ4iwDfm.js";import"./ant-design-vue-qdrtx42b.js";import"./@babel-rSvM8Ko2.js";import"./resize-observer-polyfill-OVnto9HH.js";import"./@emotion-BUNCmyKw.js";import"./stylis-cmx5w8r8.js";import"./vue-types-Ci_fOQyt.js";import"./dom-align-CCb293uS.js";import"./lodash-es-DiERF9Dp.js";import"./dayjs-Dk7pxPyP.js";import"./async-validator-BTKOuuO-.js";import"./throttle-debounce-w9OM8Bxz.js";import"./lodash-DG05lPuJ.js";import"./vue3-json-viewer-BcgvkQJY.js";import"./vue-i18n-DZLdcVEL.js";import"./@intlify-D9VlDxbJ.js";import"./pinia-BY_IhmGU.js";import"./axios-BlN9Xwzv.js";import"./crypto-js-DUpU9tZe.js";import"./sm-crypto-CNoQwlJF.js";import"./jsbn-aJNYh3Pg.js";import"./nprogress-Buvl-64T.js";import"./mitt-CNZ6avp8.js";const _={key:0},L={class:"content-header"},D={class:"content-header-title"},k={class:"content-header-info"},I=["innerHTML"],T={key:2},z=y({__name:"help-doc-user-view",setup(y){const z=h();e(1);const H=e({});t((()=>{z.query.helpDocId&&async function(){try{b.show();const e=await w.view(z.query.helpDocId);H.value=e.data,M.value.onSearch()}catch(e){g.captureError(e)}finally{b.hide()}}()}));const M=e();const q=e();function C(){let e=window.document.body.innerHTML,t=e.substr(e.indexOf("\x3c!--startprint--\x3e"));t=t.substring(0,t.indexOf("\x3c!--endprint--\x3e"));let s=window.open("");s.document.body.innerHTML=t,s.document.close(),s.focus(),s.print(),s.close()}return(e,t)=>{const h=s("a-divider"),y=s("a-card");return o(),a(j,null,[i(y,{size:"small",bordered:!1},{default:r((()=>[H.value?(o(),a("div",_,[p("div",L,[p("div",D,c(H.value.title),1),p("div",k,[p("span",null,"阅读量："+c(H.value.pageViewCount),1),u(p("span",null,"作者："+c(H.value.author),513),[[d,H.value.author]]),p("span",null,"发布于："+c(H.value.createTime),1),p("span",null,"修改于："+c(H.value.updateTime),1),p("span",{onClick:C},"【打印本页】")])]),p("div",{class:"content-html",innerHTML:H.value.contentHtml},null,8,I)])):n("",!0),H.value.attachment&&H.value.attachment.length>0?(o(),l(h,{key:1})):n("",!0),H.value.attachment&&H.value.attachment.length>0?(o(),a("div",T,[m("附件："),i(x,{fileList:H.value.attachment},null,8,["fileList"])])):n("",!0)])),_:1}),i(y,{title:"阅读记录",size:"small",class:"smart-margin-top10",bordered:!1},{default:r((()=>[i(f,{ref_key:"helpDocViewRecordListRef",ref:M,helpDocId:v(z).query.helpDocId},null,8,["helpDocId"])])),_:1}),i(x,{ref_key:"filePreviewRef",ref:q},null,512)],64)}}},[["__scopeId","data-v-3dddccc0"]]);export{z as default};
