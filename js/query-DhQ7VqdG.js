import{r as a,b2 as e,b as l,o as s,ao as t,c as i,bz as o,ai as r,ah as n,u as d,G as u,J as v,be as c,x as p,aY as f,aW as b}from"./@vue-wTDZSr7R.js";import{a as m}from"./account-api-CPPoY5oD.js";import{_ as g}from"./index-SeYMZHv7.js";import{b as h}from"./ant-design-vue-qdrtx42b.js";import"./@ant-design-BpN5YQ3K.js";import"./vue-LkNShnlx.js";import"./@ctrl-BZ4iwDfm.js";import"./lodash-DG05lPuJ.js";import"./vue3-json-viewer-BcgvkQJY.js";import"./dayjs-Dk7pxPyP.js";import"./vue-i18n-DZLdcVEL.js";import"./@intlify-D9VlDxbJ.js";import"./pinia-BY_IhmGU.js";import"./axios-BlN9Xwzv.js";import"./crypto-js-DUpU9tZe.js";import"./sm-crypto-CNoQwlJF.js";import"./jsbn-aJNYh3Pg.js";import"./nprogress-Buvl-64T.js";import"./vue-router-BJIyZwNj.js";import"./mitt-CNZ6avp8.js";import"./@babel-rSvM8Ko2.js";import"./resize-observer-polyfill-OVnto9HH.js";import"./@emotion-BUNCmyKw.js";import"./stylis-cmx5w8r8.js";import"./vue-types-Ci_fOQyt.js";import"./dom-align-CCb293uS.js";import"./lodash-es-DiERF9Dp.js";import"./async-validator-BTKOuuO-.js";import"./throttle-debounce-w9OM8Bxz.js";const j=a=>(f("data-v-bb765a01"),a=a(),b(),a),y={class:"zhixiao-query-bg"},x=t('<svg class="bg-top-wave" width="100%" height="180" viewBox="0 0 1440 180" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-bb765a01><path d="M0,80 C360,180 1080,0 1440,100 L1440,0 L0,0 Z" fill="url(#topWaveGradient)" data-v-bb765a01></path><defs data-v-bb765a01><linearGradient id="topWaveGradient" x1="0" y1="0" x2="1440" y2="0" gradientUnits="userSpaceOnUse" data-v-bb765a01><stop stop-color="#49c6fa" data-v-bb765a01></stop><stop offset="0.5" stop-color="#1677ff" data-v-bb765a01></stop><stop offset="1" stop-color="#b3d8ff" data-v-bb765a01></stop></linearGradient></defs></svg><svg class="bg-svg" width="100%" height="100%" viewBox="0 0 1440 900" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-bb765a01><ellipse cx="720" cy="-100" rx="900" ry="300" fill="#e6f0fa" data-v-bb765a01></ellipse><ellipse cx="200" cy="900" rx="400" ry="120" fill="#f0f7ff" data-v-bb765a01></ellipse><ellipse cx="1300" cy="800" rx="300" ry="100" fill="#e6f0fa" data-v-bb765a01></ellipse></svg>',2),w={class:"main-card glass-card"},_={class:"logo-area"},z={class:"logo-circle"},I=["src"],k=j((()=>r("div",{class:"logo-divider"},null,-1))),U=j((()=>r("div",{class:"slogan"},"让实习信息一目了然",-1))),B=j((()=>r("h1",{class:"main-title"},"职校家园信息查询",-1))),G=j((()=>r("div",{class:"tip"},"请输入职校家园账号和密码进行查询",-1))),M=j((()=>r("span",{class:"input-icon"},[r("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none"},[r("path",{d:"M12 12c2.7 0 5-2.3 5-5s-2.3-5-5-5-5 2.3-5 5 2.3 5 5 5zm0 2c-3.3 0-10 1.7-10 5v3h20v-3c0-3.3-6.7-5-10-5z",fill:"#b0b0b0"})])],-1))),C=j((()=>r("div",{class:"input-gap"},null,-1))),W=j((()=>r("span",{class:"input-icon"},[r("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none"},[r("path",{d:"M12 17a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm6-7V7a6 6 0 1 0-12 0v3a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7a2 2 0 0 0-2-2zm-8-3a4 4 0 1 1 8 0v3H6V7z",fill:"#b0b0b0"})])],-1))),q={class:"form-btn-row"},E=j((()=>r("span",{class:"btn-icon"},[r("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none"},[r("path",{d:"M21 20.3l-5.6-5.6A7.9 7.9 0 1 0 18 16.4l5.6 5.6-2.6 2.6zM4 10a6 6 0 1 1 12 0 6 6 0 0 1-12 0z",fill:"#fff"})])],-1))),L={key:0,class:"error-msg"},P={key:1},S=j((()=>r("div",{class:"section-title"},[r("span",{class:"bar"}),v("个人信息")],-1))),D={key:2,style:{"margin-top":"24px"}},R=j((()=>r("div",{class:"section-title"},[r("span",{class:"bar"}),v("实习信息")],-1))),V={key:3,style:{"margin-top":"24px"}},Z=j((()=>r("div",{class:"section-title"},[r("span",{class:"bar"}),v("实习详情信息")],-1))),A=["href"],H=j((()=>r("div",{class:"copyright"},"© 2024 职校家园信息平台 | 粤ICP备xxxxxxx号",-1))),J=g({__name:"query",setup(t){const f=a(""),b=a(""),g=a(null),j=a(null),J=a(""),K=a(!1),O=a(null);function Y(a){switch(a){case 1:return"正在实习";case 2:return"实习结束";case 3:return"签约成功";case 4:return"未开始";default:return"-"}}async function F(){if(f.value&&b.value){K.value=!0,J.value="",g.value=null,j.value=null,O.value=null;try{const a=await m.getZhixiaoUserInfo({account:f.value,password:b.value});if(a.data){g.value=a.data;const{uid:e,token:l,deviceId:s}=a.data;if(e&&l&&s){const a=await m.getInternshipInfo({uid:e,token:l,deviceId:s});if(a.data){j.value=a.data;const t=a.data.bmid;if(t){const a=await m.getInternshipDetail({uid:e,token:l,deviceId:s,bmid:t});a.data&&(O.value=a.data)}}}}else J.value="未查询到相关信息"}catch(a){J.value=a?.data?.msg||"查询失败"}finally{K.value=!1}}else h.warning("请输入账号和密码")}return(a,t)=>{const m=e("a-input"),h=e("a-form-item"),N=e("a-input-password"),Q=e("a-button"),T=e("a-form"),X=e("a-divider"),$=e("a-descriptions-item"),aa=e("a-descriptions");return s(),l("div",y,[x,i(p,{name:"fade-in"},{default:o((()=>[r("div",w,[r("div",_,[r("div",z,[r("img",{src:d("/png/zxjy-BEjyKW2P.png"),alt:"logo",class:"logo-img"},null,8,I)]),k]),U,B,G,i(T,{layout:"vertical",onSubmit:u(F,["prevent"]),class:"query-form-vertical"},{default:o((()=>[i(h,{class:"form-label-item"},{default:o((()=>[i(m,{value:f.value,"onUpdate:value":t[0]||(t[0]=a=>f.value=a),placeholder:"请输入账号",class:"round-input"},{prefix:o((()=>[M])),_:1},8,["value"])])),_:1}),C,i(h,{class:"form-label-item"},{default:o((()=>[i(N,{value:b.value,"onUpdate:value":t[1]||(t[1]=a=>b.value=a),placeholder:"请输入密码",class:"round-input"},{prefix:o((()=>[W])),_:1},8,["value"])])),_:1}),r("div",q,[i(Q,{type:"primary",loading:K.value,onClick:F,class:"gradient-btn round-btn ripple-btn"},{default:o((()=>[E,v(" 查询 ")])),_:1},8,["loading"])])])),_:1}),i(X),J.value?(s(),l("div",L,c(J.value),1)):n("",!0),g.value?(s(),l("div",P,[S,i(aa,{bordered:"",column:1,class:"desc-table"},{default:o((()=>[i($,{label:"姓名"},{default:o((()=>[v(c(g.value.uname||"-"),1)])),_:1}),i($,{label:"学校"},{default:o((()=>[v(c(g.value.schoolname||"-"),1)])),_:1}),i($,{label:"专业"},{default:o((()=>[v(c(g.value.major||"-"),1)])),_:1})])),_:1})])):n("",!0),j.value?(s(),l("div",D,[R,i(aa,{bordered:"",column:1,class:"desc-table"},{default:o((()=>[i($,{label:"签约企业"},{default:o((()=>[v(c(j.value.contractEnterprise||"-"),1)])),_:1}),i($,{label:"实习状态"},{default:o((()=>[v(c(Y(j.value.internshipStatus)),1)])),_:1})])),_:1})])):n("",!0),O.value?(s(),l("div",V,[Z,i(aa,{bordered:"",column:1,class:"desc-table"},{default:o((()=>[i($,{label:"实习进度"},{default:o((()=>[v(c(O.value.internshipProgress||"-"),1)])),_:1}),i($,{label:"报名信息"},{default:o((()=>[v(c(O.value.registrationInfo||"-"),1)])),_:1}),i($,{label:"保险信息"},{default:o((()=>[v(c(O.value.insuranceInfo||"-"),1)])),_:1}),i($,{label:"协议URL"},{default:o((()=>[r("a",{href:O.value.agreementUrl,target:"_blank"},c(O.value.agreementUrl),9,A)])),_:1})])),_:1})])):n("",!0),H])])),_:1})])}}},[["__scopeId","data-v-bb765a01"]]);export{J as default};
